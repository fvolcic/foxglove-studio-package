(self.webpackChunk=self.webpackChunk||[]).push([[4216],{14786:function(ft,Q){(function(u,f){f(Q)})(this,function(u){function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(a){W(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const it=new Set(["\u2014"]),lt=new Set(["\xAD"]),F=new Set([" ","\u1680","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2008","\u2009","\u200A","\u205F","\u3000","	","\u200B","\u2028","\u2029"]),ct=new Set(["\u058A","\u2010","\u2012","\u2013","\u05BE","\u0F0B","\u1361","\u17D8","\u17DA","\u2027","|","\u16EB","\u16EC","\u16ED","\u2056","\u2058","\u2059","\u205A","\u205B","\u205D","\u205E","\u2E19","\u2E2A","\u2E2B","\u2E2C","\u2E2D","\u2E30","\u10100","\u10101","\u10102","\u1039F","\u103D0","\u1091F","\u12470"]),R=new Set(["\xB4","\u1FFD"]),Y=new Set([`
`]);function L(t,e){e||(e={});const n=Number.parseInt(g(e,"base-font-size",16),10),a=Number.parseFloat(t),c=t.replace(a,"");switch(c){case"rem":case"em":return a*n;case"pt":return a*(96/72);case"px":return a}throw new Error("The unit "+c+" is not supported")}function M(t,e){const n=new Set(["inherit","initial","unset","normal"]);let a=0;t&&!n.has(t)&&(a=L(t));let c=0;return e&&!n.has(e)&&(c=L(e)),m=>(m.trim().replace(/\s+/gi," ").split(" ").length-1)*a+m.length*c}function Z(t,e){const n=[],a=g(e,"font-weight",t.getPropertyValue("font-weight"))||"400";["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"].includes(a.toString())&&n.push(a);const c=g(e,"font-style",t.getPropertyValue("font-style"));["normal","italic","oblique"].includes(c)&&n.push(c);const m=g(e,"font-variant",t.getPropertyValue("font-variant"));["normal","small-caps"].includes(m)&&n.push(m);const b=L(g(e,"font-size",t.getPropertyValue("font-size"))||"16px");n.push(b+"px");const r=g(e,"font-family",t.getPropertyValue("font-family"))||"Helvetica, Arial, sans-serif";return n.push(r),n.join(" ")}function q(t){return t&&typeof t.getPropertyValue=="function"}function $(t){return E(t)&&t.style&&typeof window<"u"&&typeof window.getComputedStyle=="function"}function E(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:Boolean(t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string")}function _(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function tt(t,e){const n=d({},e),{style:a}=n;return e||(e={}),q(a)?a:$(t)?window.getComputedStyle(t,g(e,"pseudoElt",null)):{getPropertyValue:c=>g(e,c)}}function K(t,e){switch(e){case"pre":case"pre-wrap":return t;case"pre-line":return(t||"").replace(/\s+/gm," ").trim();default:return(t||"").replace(/[\r\n]/gm," ").replace(/\s+/gm," ").trim()}}function G(t,e){switch(e.getPropertyValue("text-transform")){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();default:return t}}function et(t){return t=(t||"").replace(/<wbr>/gi,"\u200B").replace(/<br\s*\/?>/gi,`
`).replace(/&shy;/gi,"\xAD").replace(/&mdash;/gi,"\u2014"),/&#(\d+)(;?)|&#[xX]([a-fA-F\d]+)(;?)|&([\da-zA-Z]+);/g.test(t)&&console&&console.error("text-metrics: Found encoded htmlenties. You may want to use https://mths.be/he to decode your text first."),t}function nt(t){return t&&(t.textContent||t.textContent)||""}function g(t,e,n){return t&&t[e]!==void 0&&t[e]||n}function z(t){const e={};for(const n of Object.keys(t||{}))e[n.replace(/([A-Z])/g,a=>"-"+a.toLowerCase())]=t[n];return e}function U(t){try{const e=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return e.font=t,e.setTransform(n/a,0,0,n/a,0,0),e}catch(e){throw new Error("Canvas support required"+e.message)}}function at(t){return(it.has(t)?"B2":F.has(t)&&"BAI")||lt.has(t)&&"SHY"||ct.has(t)&&"BA"||R.has(t)&&"BB"||Y.has(t)&&"BK"}function X(t){let{ctx:e,text:n,max:a,wordSpacing:c,letterSpacing:m}=t;const b=M(c,m),r=[],l=[],T=[];let o="",x="";if(!n)return[];for(const s of n){const i=at(s);x===""&&i==="BAI"||(i?(T.push({chr:s,type:i}),l.push(x),x=""):x+=s)}x&&l.push(x);for(const[s,i]of l.entries()){if(s===0){o=i;continue}const h=T[s-1],y=h.type==="SHY"?"":h.chr;if(h.type==="BK"){r.push(o),o=i;continue}const p=e.measureText(o+y+i).width+b(o+y+i);if(Math.round(p)<=a)o+=y+i;else switch(h.type){case"SHY":r.push(o+"-"),o=i;break;case"BA":r.push(o+y),o=i;break;case"BAI":r.push(o),o=i;break;case"BB":r.push(o),o=y+i;break;case"B2":Number.parseInt(e.measureText(o+y).width+b(o+y),10)<=a?(r.push(o+y),o=i):Number.parseInt(e.measureText(y+i).width+b(y+i),10)<=a?(r.push(o),o=y+i):(r.push(o,y),o=i);break;default:throw new Error("Undefoined break")}}return[...o].length>0&&r.push(o),r}function st(t){let{ctx:e,text:n,max:a,wordSpacing:c,letterSpacing:m}=t;const b=M(c,m),r=[];let l="",T=0;if(!n)return[];for(const o of n){const x=at(o);if(x==="BK"){r.push(l),l="";continue}const s=l.length;if(F.has(o)&&(s===0||F.has(l[s-1])))continue;let i=e.measureText(l+o).width+b(l+o),h=Math.ceil(i);if(x==="SHY"){const y=n[T+1]||"";i=e.measureText(l+o+y).width+b(l+o+y),h=Math.ceil(i)}if(h>a&&[...l].length>0)switch(x){case"SHY":r.push(l+"-"),l="";break;case"BA":r.push(l+o),l="";break;case"BAI":r.push(l),l="";break;default:r.push(l),l=o}else o!=="\xAD"&&(l+=o);T++}return[...l].length>0&&r.push(l),r}var ut={__proto__:null,addWordAndLetterSpacing:M,getFont:Z,isCSSStyleDeclaration:q,canGetComputedStyle:$,isElement:E,isObject:_,getStyle:tt,normalizeWhitespace:K,getStyledText:G,prepareText:et,getText:nt,prop:g,normalizeOptions:z,getContext2d:U,computeLinesDefault:X,computeLinesBreakAll:st};class dt{constructor(e,n){n===void 0&&(n={}),!E(e)&&_(e)?(this.el=void 0,this.overwrites=z(e)):(this.el=e,this.overwrites=z(n)),this.style=tt(this.el,this.overwrites),this.font=g(n,"font",null)||Z(this.style,this.overwrites)}padding(){return this.el?Number.parseInt(this.style.paddingLeft||0,10)+Number.parseInt(this.style.paddingRight||0,10):0}parseArgs(e,n,a){n===void 0&&(n={}),a===void 0&&(a={}),typeof e=="object"&&e&&(a=n,n=e||{},e=void 0);const c=d(d({},this.overwrites),z(a)),m=g(c,"white-space")||this.style.getPropertyValue("white-space");return n||(n={}),a||(n={}),{text:e=!e&&this.el?K(nt(this.el),m):et(K(e,m)),options:n,overwrites:a,styles:c}}width(){const{text:e,options:n,overwrites:a,styles:c}=this.parseArgs(...[].slice.call(arguments));if(!e)return 0;const m=Z(this.style,c),b=g(c,"letter-spacing")||this.style.getPropertyValue("letter-spacing"),r=M(g(c,"word-spacing")||this.style.getPropertyValue("word-spacing"),b),l=U(m),T=G(e,this.style);return n.multiline?this.lines(T,n,a).reduce((o,x)=>{const s=l.measureText(x).width+r(x);return Math.max(o,s)},0):l.measureText(T).width+r(T)}height(){const{text:e,options:n,styles:a}=this.parseArgs(...[].slice.call(arguments)),c=Number.parseFloat(g(a,"line-height")||this.style.getPropertyValue("line-height"));return Math.ceil(this.lines(e,n,a).length*c||0)}lines(){const{text:e,options:n,overwrites:a,styles:c}=this.parseArgs(...[].slice.call(arguments)),m=Z(this.style,c);let b=Number.parseInt(g(n,"width")||g(a,"width"),10)||g(this.el,"offsetWidth",0)||Number.parseInt(g(c,"width",0),10)||Number.parseInt(this.style.width,10);b-=this.padding();const r=g(c,"word-break")||this.style.getPropertyValue("word-break"),l=g(c,"letter-spacing")||this.style.getPropertyValue("letter-spacing"),T=g(c,"word-spacing")||this.style.getPropertyValue("word-spacing"),o=U(m),x=G(e,this.style);return r==="break-all"?st({ctx:o,text:x,max:b,wordSpacing:T,letterSpacing:l}):X({ctx:o,text:x,max:b,wordSpacing:T,letterSpacing:l})}maxFontSize(){const{text:e,options:n,overwrites:a,styles:c}=this.parseArgs(...[].slice.call(arguments)),m=o=>Math.ceil(this.width(e,n,d(d({},c),{},{"font-size":o+"px"})));let b=Number.parseInt(g(n,"width")||g(a,"width"),10)||g(this.el,"offsetWidth",0)||Number.parseInt(g(c,"width",0),10)||Number.parseInt(this.style.width,10);b-=this.padding();let r=Math.floor(b/2),l=m(r);if(r=Math.floor(r/l*b),l=m(r),Math.ceil(l)===b)return r?r+"px":void 0;const T=l>b&&r>0;for(;l>b&&r>0;)r-=1,l=m(r);if(!T)for(;l<b;){if(l=m(r+1),l>b)return r?r+"px":void 0;r+=1}return r?r+"px":void 0}}const pt=d({},ut);u.init=(t,e)=>new dt(t,e),u.utils=pt})},14216:(ft,Q,u)=>{"use strict";u.r(Q),u.d(Q,{default:()=>x});var f=u(52322),d=u(2784),W=u(8740),it=u(44449),lt=u(14075),F=u(82044),ct=u(13688),R=u(93812);const Y="TAB",L=(0,d.createContext)({preventTabDrop:!1});L.displayName="TabDndContext";var M=u(93553),Z=u(47746),q=u(47021),$=u(21157),E=u(76479),_=u(49318),tt=u(46256),K=u(5681),G=u(92679),et=u(8640),nt=u(66198),g=u(14786),z=u.n(g),U=u(77075),at=u(67649).Z;const X=120,st=40,ut=14,dt=(0,W.ZL)()((s,i,h)=>({root:{cursor:"pointer",color:s.palette.text.secondary,fontSize:s.typography.body2.fontSize,fontWeight:s.typography.body2.fontWeight,position:"relative",display:"flex",alignItems:"center",width:"100%",height:E.B,padding:s.spacing(0,1),userSelect:"none",backgroundColor:"transparent",maxWidth:X,gap:s.spacing(.5),top:1,[`:not(.${h.active}):hover`]:{color:s.palette.text.primary}},active:{color:s.palette.text.primary,fontWeight:s.typography.subtitle2.fontWeight,backgroundColor:s.palette.background.paper,userSelect:"all",zIndex:1,boxShadow:s.shadows[2]},dragging:{backgroundColor:s.palette.background.paper,borderColor:s.palette.action.selected},hidden:{visibility:"hidden"},input:{font:"inherit",color:"inherit"},dropIndicator:{position:"absolute",top:0,bottom:0,width:2,height:"100%",backgroundColor:s.palette.primary.main,opacity:.8,borderRadius:s.shape.borderRadius,zIndex:1},iconButton:{padding:s.spacing(.125),color:s.palette.text.secondary,":hover":{color:s.palette.text.primary}}})),pt=U.R.SANS_SERIF,t="12px";let e;function n(s){return e==null&&(e=z().init({fontFamily:pt,fontSize:t})),e.width(s)+3}function a(s){const{tabIndex:i,isActive:h,tabCount:y,tabTitle:p="",isDragging:C,actions:w,innerRef:D,highlight:P,hidden:A}=s,{classes:S,cx:B}=dt(),j=(0,d.useRef)(null),[v,V]=(0,d.useState)(p),[H,O]=(0,d.useState)(!1),ot=(0,d.useCallback)(N=>V(N.target.value),[]),{selectTab:I,removeTab:J}=(0,d.useMemo)(()=>({selectTab:()=>w.selectTab(i),removeTab:()=>w.removeTab(i)}),[w,i]),k=(0,d.useCallback)(()=>w.setTabTitle(i,v),[w,i,v]),bt=(0,d.useCallback)(()=>{h?(O(!0),at(()=>{if(j.current){const N=j.current;N.focus(),N.select()}})):I()},[h,I,j]),rt=(0,d.useCallback)(()=>{O(!1),document.activeElement instanceof HTMLElement&&document.activeElement.blur()},[]),ht=(0,d.useCallback)(()=>{k(),rt()},[rt,k]),gt=(0,d.useCallback)(()=>{V(p),rt()},[rt,p]),yt=(0,d.useCallback)(N=>{N.key==="Escape"?gt():N.key==="Enter"&&ht()},[ht,gt]);return(0,d.useEffect)(()=>{h||O(!1)},[h]),(0,d.useEffect)(()=>{V(p)},[p]),(0,f.jsxs)("div",{hidden:A,onClick:bt,ref:D,title:p||"Enter tab name","data-testid":"toolbar-tab",className:B(S.root,{[S.active]:h,[S.dragging]:C,[S.hidden]:A}),style:{minWidth:h?`calc(max(${st}px,  min(${Math.ceil(n(p)+30)}px, ${X}px, 100% - ${ut*(y-1)}px)))`:void 0},children:[P!=null&&(0,f.jsx)("div",{className:S.dropIndicator,style:{left:P==="before"?0:"auto",right:P==="before"?"auto":0}}),(0,f.jsx)(et.ZP,{className:S.input,readOnly:!H,placeholder:"Enter tab name",value:v,onChange:ot,onBlur:k,onKeyDown:yt,inputRef:j,style:{pointerEvents:H?"all":"none"}}),h&&(0,f.jsx)(nt.Z,{edge:"end",size:"small","data-testid":"tab-icon",title:"Remove tab",onClick:J,className:S.iconButton,children:(0,f.jsx)(G.Z,{fontSize:"inherit"})})]})}function c(s){const{isActive:i,tabCount:h,actions:y,panelId:p,tabTitle:C,tabIndex:w}=s,{moveTab:D}=(0,K._B)(),[{isDragging:P},A]=(0,tt.c)({type:Y,item:{panelId:p,tabIndex:w},collect:v=>({isDragging:v.isDragging()})}),[{highlight:S},B]=(0,$.L)({accept:Y,collect:v=>({highlight:v.isOver()?v.getItem().tabIndex<w?"after":"before":void 0}),drop:(v,V)=>{const H={panelId:v.panelId,tabIndex:v.tabIndex};D({source:H,target:{tabIndex:w,panelId:p}})}}),j={tabTitle:C,tabIndex:w,isActive:i,tabCount:h,actions:y,isDragging:P,innerRef:v=>{A(v),B(v)},hidden:P,highlight:S};return(0,f.jsx)(a,{...j})}const m=(0,W.ZL)()(s=>({root:{backgroundColor:s.palette.background.default},toolbar:{padding:s.spacing(0,.75,0,.25)},button:{flexGrow:1,height:E.B}}));function b(s){const{panelId:i,actions:h,tabs:y,activeTabIdx:p,setDraggingTabState:C}=s,{classes:w}=m(),D=(0,Z.Z)(),[{isOver:P,item:A},S]=(0,$.L)({accept:Y,collect:B=>({item:B.getItem(),isOver:B.isOver()})});return(0,d.useEffect)(()=>{C({item:A,isOver:P})},[A,P,C]),(0,f.jsx)(R.Z,{className:w.root,flex:"0 0",position:"relative",children:(0,f.jsx)(E.Z,{className:w.toolbar,backgroundColor:D.palette.background.default,additionalIcons:(0,f.jsx)(_.Z,{"data-testid":"add-tab",title:"Add tab",onClick:h.addTab,children:(0,f.jsx)(M.Z,{fontSize:"inherit"})}),children:(0,f.jsxs)(R.Z,{direction:"row",flex:"auto",alignItems:"center",ref:S,"data-testid":"toolbar-droppable",style:{gap:1},overflow:"hidden",children:[y.map((B,j)=>(0,f.jsx)(c,{isActive:p===j,panelId:i,actions:h,tabCount:y.length,tabIndex:j,tabTitle:B.title},j)),(0,f.jsx)(q.Z,{className:w.button,onDoubleClick:h.addTab})]})})})}var r=u(11701),l=u(40301);const T=(0,W.ZL)()(s=>({panelCover:{top:"0",left:"0",width:"100%",height:"100%",zIndex:1,background:s.palette.background.paper,position:"absolute"}}));function o({config:s,saveConfig:i}){const h=(0,F.R)().id,{classes:y}=T(),{tabs:p,activeTabIdx:C}=s,D=p[C]?.layout,[P,A]=(0,d.useState)({item:void 0,isOver:!1}),S=(0,d.useCallback)(I=>{i({activeTabIdx:I})},[i]),B=(0,d.useCallback)((I,J)=>{const k=p.slice();k[I]={...p[I],title:J},i({tabs:k})},[i,p]),j=(0,d.useCallback)(I=>{const J=p.slice(0,I).concat(p.slice(I+1)),k=p.length-1;i({tabs:J,activeTabIdx:C===k?k-1:C})},[C,i,p]),v=(0,d.useCallback)(()=>{const I={title:`${p.length+1}`,layout:void 0};i({...s,activeTabIdx:p.length,tabs:p.concat([I])})},[s,i,p]),V=(0,d.useCallback)(I=>{i((0,l.p1)(I,s))},[s,i]),H=(0,d.useMemo)(()=>({addTab:v,removeTab:j,selectTab:S,setTabTitle:B}),[v,j,S,B]),O=P.item,ot=!!O&&O.panelId===h&&O.tabIndex===C&&!P.isOver;return(0,f.jsxs)(R.Z,{flex:"auto",overflow:"hidden",children:[(0,f.jsx)(b,{panelId:h,tabs:p,actions:H,activeTabIdx:C,setDraggingTabState:A}),(0,f.jsxs)(R.Z,{direction:"row",flex:"auto",overflow:"hidden",position:"relative",children:[D!=null?(0,f.jsx)(L.Provider,{value:{preventTabDrop:ot},children:(0,f.jsx)(ct.D,{layout:D,onChange:V,tabId:h})}):(0,f.jsx)(it.v,{tabId:h}),ot&&(0,f.jsx)("div",{className:y.panelCover})]})]})}o.panelType=r.bm,o.defaultConfig=l.kY;const x=(0,lt.Z)(o)}}]);

//# sourceMappingURL=4216.94c238a110047849cf5a.js.map