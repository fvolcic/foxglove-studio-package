{"version":3,"file":"1888.5e25ea143d4e3898ab31.js","mappings":"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","sources":["webpack:///../../packages/studio-base/src/util/Rpc.ts","webpack:///../../packages/studio-base/src/util/overwriteFetch.ts","webpack:///../../packages/studio-base/src/util/RpcWorkerUtils.ts","webpack:///../../packages/studio-base/src/panels/Image/components/ImageCanvas.worker.ts","webpack:///../../packages/studio-base/src/panels/Image/lib/util.ts","webpack:///../../packages/studio-base/src/reportError.ts","webpack:///../../packages/studio-base/src/util/errors.ts","webpack:///../../packages/studio-base/src/util/sendNotification.ts","webpack:///../../packages/studio-base/src/util/workers.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/importScripts chunk loading","webpack:///webpack/runtime/startup chunk dependencies","webpack:///webpack/startup"],"sourcesContent":["// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\n// this type mirrors the MessageChannel and MessagePort APIs which are available on\n// instances of web-workers and shared-workers respectively, as well as avaiable on\n// 'global' within them.\nexport interface Channel {\n  postMessage(data: unknown, transfer?: (Transferable | OffscreenCanvas)[]): void;\n  onmessage?: ((ev: MessageEvent) => unknown) | null; // eslint-disable-line no-restricted-syntax\n  terminate: () => void;\n}\n\nconst RESPONSE = \"$$RESPONSE\";\nconst ERROR = \"$$ERROR\";\n\n// helper function to create linked channels for testing\nexport function createLinkedChannels(): { local: Channel; remote: Channel } {\n  const local: Channel = {\n    onmessage: undefined,\n\n    postMessage(data: unknown, _transfer?: Array<ArrayBuffer>) {\n      const ev = new MessageEvent(\"message\", { data });\n      if (remote.onmessage) {\n        remote.onmessage(ev);\n      }\n    },\n    terminate: () => {\n      // no-op\n    },\n  };\n\n  const remote: Channel = {\n    onmessage: undefined,\n\n    postMessage(data: unknown, _transfer?: Array<ArrayBuffer>) {\n      const ev = new MessageEvent(\"message\", { data });\n      if (local.onmessage) {\n        local.onmessage(ev);\n      }\n    },\n    terminate: () => {\n      // no-op\n    },\n  };\n  return { local, remote };\n}\n\n// This class allows you to hook up bi-directional async calls across web-worker\n// boundaries where a single call to or from a worker can 'wait' on the response.\n// Errors in receivers are propigated back to the caller as a rejection.\n// It also supports returning transferables over the web-worker postMessage api,\n// which was the main shortcomming with the worker-rpc npm module.\n// To attach rpc to an instance of a worker in the main thread:\n//   const rpc = new Rpc(workerInstace);\n// To attach rpc within an a web worker:\n//   const rpc = new Rpc(global);\n// Check out the tests for more examples.\nexport default class Rpc {\n  public static transferables = \"$$TRANSFERABLES\";\n  private _channel: Omit<Channel, \"terminate\">;\n  private _messageId: number = 0;\n  private _pendingCallbacks: {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: number]: (arg0: any) => void;\n  } = {};\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _receivers: Map<string, (arg0: any) => any> = new Map();\n\n  public constructor(channel: Omit<Channel, \"terminate\">) {\n    this._channel = channel;\n    if (this._channel.onmessage) {\n      throw new Error(\n        \"channel.onmessage is already set. Can only use one Rpc instance per channel.\",\n      );\n    }\n    this._channel.onmessage = this._onChannelMessage;\n  }\n\n  private _onChannelMessage = (ev: MessageEvent): void => {\n    const { id, topic, data } = ev.data;\n    if (topic === RESPONSE) {\n      this._pendingCallbacks[id]?.(ev.data);\n      delete this._pendingCallbacks[id];\n      return;\n    }\n    // invoke the receive handler in a promise so if it throws synchronously we can reject\n    new Promise<Record<string, Transferable[] | undefined> | undefined>((resolve) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      const handler = this._receivers.get(topic);\n      if (!handler) {\n        throw new Error(`no receiver registered for ${topic}`);\n      }\n      // This works both when `handler` returns a value or a Promise.\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      resolve(handler(data));\n    })\n      .then((result) => {\n        if (!result) {\n          return this._channel.postMessage({ topic: RESPONSE, id });\n        }\n        const transferables = result[Rpc.transferables];\n        delete result[Rpc.transferables];\n        const message = {\n          topic: RESPONSE,\n          id,\n          data: result,\n        };\n        this._channel.postMessage(message, transferables);\n      })\n      .catch((err) => {\n        const message = {\n          topic: RESPONSE,\n          id,\n          data: {\n            [ERROR]: true,\n            name: err.name,\n            message: err.message,\n            stack: err.stack,\n          },\n        };\n        this._channel.postMessage(message);\n      });\n  };\n\n  /** Call this when the channel has been terminated to reject any outstanding send callbacks. */\n  public terminate(): void {\n    for (const [id, callback] of Object.entries(this._pendingCallbacks)) {\n      callback({\n        topic: RESPONSE,\n        id,\n        data: {\n          [ERROR]: true,\n          name: \"Error\",\n          message: \"Rpc terminated\",\n          stack: new Error().stack,\n        },\n      });\n    }\n  }\n\n  // send a message across the rpc boundary to a receiver on the other side\n  // this returns a promise for the receiver's response.  If there is no registered\n  // receiver for the given topic, this method throws\n  public async send<TResult, TData = unknown>(\n    topic: string,\n    data?: TData,\n    transfer?: (Transferable | OffscreenCanvas)[],\n  ): Promise<TResult> {\n    const id = this._messageId++;\n    const message = { topic, id, data };\n    const result = new Promise<TResult>((resolve, reject) => {\n      this._pendingCallbacks[id] = (info) => {\n        if (info.data?.[ERROR] != undefined) {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          const error = new Error(info.data.message);\n          error.name = info.data.name;\n          error.stack = info.data.stack;\n          reject(error);\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          resolve(info.data);\n        }\n      };\n    });\n    this._channel.postMessage(message, transfer);\n    return await result;\n  }\n\n  // register a receiver for a given message on a topic\n  // only one receiver can be registered per topic and currently\n  // 'deregistering' a receiver is not supported since this is not common\n  public receive<T, TOut>(topic: string, handler: (arg0: T) => TOut): void {\n    if (this._receivers.has(topic)) {\n      throw new Error(`Receiver already registered for topic: ${topic}`);\n    }\n    this._receivers.set(topic, handler);\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2019-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\n// Overwrite the default fetch error handler with one that catches one message: \"Failed to fetch\". We see this often\n// in our logs and want the logs to more fully reflect the error message.\nexport default function overwriteFetch(): void {\n  const originalFetch = global.fetch;\n  global.fetch = async (url: RequestInfo | URL, init?: RequestInit) => {\n    // Use this replacement error instead of the original one, because this one will have the correct stack trace.\n    const replacementError = new TypeError(`Failed to fetch: ${url}`);\n    return await originalFetch(url, init).catch((error) => {\n      if (error.message === \"Failed to fetch\") {\n        throw replacementError;\n      }\n      throw error;\n    });\n  };\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2020-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport {\n  setNotificationHandler,\n  DetailsType,\n  NotificationType,\n  NotificationSeverity,\n} from \"@foxglove/studio-base/util/sendNotification\";\n\nimport Rpc from \"./Rpc\";\nimport overwriteFetch from \"./overwriteFetch\";\n\nexport function setupSendReportNotificationHandler(rpc: Rpc): void {\n  setNotificationHandler(\n    (\n      message: string,\n      details: DetailsType,\n      type: NotificationType,\n      severity: NotificationSeverity,\n    ) => {\n      if (!(details instanceof Error || typeof details === \"string\")) {\n        console.warn(\"Invalid Error type\", details);\n      }\n      void rpc.send(\"sendNotification\", {\n        message,\n        details: details instanceof Error ? details.toString() : details,\n        type,\n        severity,\n      });\n    },\n  );\n}\n\nexport function setupWorker(rpc: Rpc): void {\n  if (process.env.NODE_ENV !== \"test\") {\n    setupSendReportNotificationHandler(rpc);\n    overwriteFetch();\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport Rpc, { Channel } from \"@foxglove/studio-base/util/Rpc\";\nimport { setupWorker } from \"@foxglove/studio-base/util/RpcWorkerUtils\";\n\nimport { renderImage } from \"../lib/renderImage\";\nimport { idColorToIndex } from \"../lib/util\";\nimport type { RenderArgs, RenderDimensions, Annotation } from \"../types\";\n\ntype RenderState = {\n  canvas: OffscreenCanvas;\n  dimensions?: RenderDimensions;\n  hitmap: OffscreenCanvas;\n  markers: readonly Annotation[];\n};\n\nclass ImageCanvasWorker {\n  private readonly _renderStates: Record<string, RenderState> = {};\n\n  public constructor(rpc: Rpc) {\n    setupWorker(rpc);\n\n    rpc.receive(\"initialize\", async ({ id, canvas }: { id: string; canvas: OffscreenCanvas }) => {\n      this._renderStates[id] = {\n        canvas,\n        hitmap: new OffscreenCanvas(canvas.width, canvas.height),\n        markers: [],\n      };\n    });\n\n    rpc.receive(\"mouseMove\", async ({ id, x, y }: { id: string; x: number; y: number }) => {\n      const state = this._renderStates[id];\n      if (!state) {\n        return undefined;\n      }\n\n      const matrix = (state.dimensions?.transform ?? new DOMMatrix()).inverse();\n      const point = new DOMPoint(x, y).matrixTransform(matrix);\n      // https://github.com/microsoft/TypeScript-DOM-lib-generator/issues/1480\n      const pixel = (\n        state.canvas.getContext(\"2d\") as OffscreenCanvasRenderingContext2D | undefined\n      )?.getImageData(x, y, 1, 1);\n      const hit = (\n        state.hitmap.getContext(\"2d\") as OffscreenCanvasRenderingContext2D | undefined\n      )?.getImageData(x, y, 1, 1);\n      const markerIndex = hit ? idColorToIndex(hit.data) : undefined;\n\n      if (pixel) {\n        return {\n          color: { r: pixel.data[0], g: pixel.data[1], b: pixel.data[2], a: pixel.data[3] },\n          position: { x: Math.round(point.x), y: Math.round(point.y) },\n          markerIndex,\n          marker: markerIndex != undefined ? state.markers[markerIndex] : undefined,\n        };\n      } else {\n        return undefined;\n      }\n    });\n\n    rpc.receive(\n      \"renderImage\",\n      // Potentially performance-sensitive; await can be expensive\n      // eslint-disable-next-line @typescript-eslint/promise-function-async\n      (args: RenderArgs & { id: string }): Promise<RenderDimensions | undefined> => {\n        const { id, geometry, imageMessage, rawMarkerData, options } = args;\n\n        const render = this._renderStates[id];\n        if (!render) {\n          return Promise.resolve(undefined);\n        }\n\n        if (render.canvas.width !== geometry.viewport.width) {\n          render.canvas.width = geometry.viewport.width;\n          render.hitmap.width = geometry.viewport.width;\n        }\n\n        if (render.canvas.height !== geometry.viewport.height) {\n          render.canvas.height = geometry.viewport.height;\n          render.hitmap.height = geometry.viewport.height;\n        }\n\n        render.markers = rawMarkerData.markers;\n\n        return renderImage({\n          canvas: render.canvas,\n          geometry,\n          hitmapCanvas: render.hitmap,\n          imageMessage,\n          options,\n          rawMarkerData,\n        }).then((dimensions) => (render.dimensions = dimensions));\n      },\n    );\n  }\n}\n\nif ((global as unknown as Partial<Channel>).postMessage && !global.onmessage) {\n  // not yet using TS Worker lib: FG-64\n  new ImageCanvasWorker(new Rpc(global as unknown as Channel));\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { CameraInfo, PinholeCameraModel } from \"@foxglove/den/image\";\nimport { Topic } from \"@foxglove/studio-base/players/types\";\n\nimport { Dimensions, MarkerData, RawMarkerData, ZoomMode } from \"../types\";\n\nexport function calculateZoomScale(\n  bitmap: Dimensions,\n  viewport: Dimensions,\n  zoomMode: ZoomMode,\n): number {\n  let imageViewportScale = viewport.width / bitmap.width;\n\n  const calculatedHeight = bitmap.height * imageViewportScale;\n\n  // if we are trying to fit and the height exeeds viewport, we need to scale on height\n  if (zoomMode === \"fit\" && calculatedHeight > viewport.height) {\n    imageViewportScale = viewport.height / bitmap.height;\n  }\n\n  // if we are trying to fill and the height doesn't fill viewport, we need to scale on height\n  if (zoomMode === \"fill\" && calculatedHeight < viewport.height) {\n    imageViewportScale = viewport.height / bitmap.height;\n  }\n\n  if (zoomMode === \"other\") {\n    imageViewportScale = 1;\n  }\n\n  return imageViewportScale;\n}\n\nfunction toPaddedHexString(n: number, length: number) {\n  const str = n.toString(16);\n  return \"0\".repeat(length - str.length) + str;\n}\n\n/**\n * Converts an integer index into a hex color value. Used for encoding\n * hitmaps.\n */\nexport function indexToIDColor(index: number): string {\n  return toPaddedHexString(index, 6);\n}\n\n/**\n * Converts an encoded color back to an index value. Used for decoding hitmaps.\n */\nexport function idColorToIndex(id: Uint8ClampedArray): number | undefined {\n  // Treat pixels without max alpha as empty to avoid blended regions.\n  if (id.length < 4 || id[3] !== 255) {\n    return undefined;\n  }\n\n  return (id[0]! << 16) + (id[1]! << 8) + id[2]!;\n}\n\nexport function getMarkerOptions(\n  imageTopic: string,\n  topics: readonly Topic[],\n  imageMarkerDatatypes: readonly string[],\n): string[] {\n  const results = [];\n  const cameraNamespace = getCameraNamespace(imageTopic);\n  for (const { name, schemaName } of topics) {\n    if (\n      cameraNamespace &&\n      name.startsWith(cameraNamespace + \"/\") &&\n      schemaName != undefined &&\n      imageMarkerDatatypes.includes(schemaName)\n    ) {\n      results.push(name);\n    }\n  }\n  return results.sort();\n}\n\nexport function getRelatedMarkerTopics(\n  enabledMarkerTopics: string[],\n  availableMarkerTopics: string[],\n): string[] {\n  return availableMarkerTopics.filter((topic) => {\n    return enabledMarkerTopics.some((enabledTopic) =>\n      // Splitting with a non-empty string will always produce an array of at least 1 element\n      // \"If the string and separator are both empty strings, an empty array is returned\"\n      topic.endsWith(enabledTopic.split(\"/\").pop()!),\n    );\n  });\n}\n\n// get the sensor_msgs/CameraInfo topic associated with an image topic\nexport function getCameraInfoTopic(imageTopic: string): string | undefined {\n  const cameraNamespace = getCameraNamespace(imageTopic);\n  if (cameraNamespace) {\n    return `${cameraNamespace}/camera_info`;\n  }\n  return undefined;\n}\n\nexport function getCameraNamespace(topicName: string): string | undefined {\n  let splitTopic = topicName.split(\"/\");\n  // Remove the last part of the selected topic to get the camera namespace.\n  splitTopic.pop();\n  splitTopic = splitTopic.filter((topicPart) => topicPart !== \"old\");\n\n  // Since there is a leading slash in the topicName, splitTopic will always have at least one empty string to start.\n  // If we can't find the namespace, return undefined.\n  return splitTopic.length > 1 ? splitTopic.join(\"/\") : undefined;\n}\n\nexport function buildMarkerData(rawMarkerData: RawMarkerData): MarkerData | undefined {\n  const { markers, transformMarkers, cameraInfo } = rawMarkerData;\n  if (markers.length === 0) {\n    return {\n      markers,\n      cameraModel: undefined,\n      originalHeight: undefined,\n      originalWidth: undefined,\n    };\n  }\n  let cameraModel;\n  if (transformMarkers) {\n    if (!cameraInfo) {\n      return undefined;\n    }\n    cameraModel = new PinholeCameraModel(cameraInfo as CameraInfo);\n  }\n\n  return {\n    markers,\n    cameraModel,\n    originalWidth: cameraInfo?.width,\n    originalHeight: cameraInfo?.height,\n  };\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n\ntype ReportErrorHandler = (error: Error) => void;\n\nconst globalWithHandler = global as { foxgloveStudioReportErrorFn?: ReportErrorHandler };\n\n/**\n * Report an error that has escaped past normal error-handling flows in the app and should be\n * triaged and diagnosed.\n */\nexport function reportError(error: Error): void {\n  globalWithHandler.foxgloveStudioReportErrorFn?.(error);\n}\n\n/**\n * Set the handler function which will be called when an error is passed to `reportError()`. The default is\n * a no-op.\n */\nexport function setReportErrorHandler(fn: ReportErrorHandler): void {\n  globalWithHandler.foxgloveStudioReportErrorFn = fn;\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2019-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nimport { DetailsType } from \"@foxglove/studio-base/util/sendNotification\";\n\nexport class AppError extends Error {\n  public details: DetailsType;\n  public extraInfo: unknown;\n  public override message: string;\n\n  public constructor(details: DetailsType, extraInfo?: unknown) {\n    super();\n    this.details = details;\n    this.extraInfo = extraInfo;\n    this.name = \"AppError\";\n    this.message = \"\";\n\n    if (details instanceof Error) {\n      this.message = details.stack ?? details.message;\n    } else if (typeof details === \"string\") {\n      this.message = details;\n    }\n\n    if (extraInfo != undefined) {\n      // If `extraInfo` was passed via a componentDidCatch:\n      // https://reactjs.org/docs/react-component.html#componentdidcatch\n      if ((extraInfo as { componentStack: unknown }).componentStack != undefined) {\n        this.message += `\\n\\n${(extraInfo as { componentStack: unknown }).componentStack}`;\n      } else {\n        try {\n          const stringifiedExtraInfo = JSON.stringify(extraInfo);\n          this.message += `\\n\\n${stringifiedExtraInfo}`;\n        } catch (e) {\n          this.message += `\\n\\n[ Either cyclic object or object with BigInt(s) ]`;\n        }\n      }\n    }\n\n    if (this.message === \"\") {\n      this.message = \"Unknown Error\";\n    }\n  }\n}\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2018-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\n// For some handlers it's important to know if the error was due to the application malfunctioning\n// (programming error, dependency being down, etc) or a user mistake (incorrect/malformed data,\n// etc). We should generally prevent users from making mistakes in the first place, but sometimes\n// its unavoidable to bail out with a generic error message (e.g. when dragging in a malformed\n// ROS bag).\nimport { ReactNode } from \"react\";\n\nimport { reportError } from \"@foxglove/studio-base/reportError\";\nimport { AppError } from \"@foxglove/studio-base/util/errors\";\nimport { inWebWorker } from \"@foxglove/studio-base/util/workers\";\n\nexport type NotificationType = \"app\" | \"user\";\nexport type DetailsType = string | Error | ReactNode;\nexport type NotificationSeverity = \"error\" | \"warn\" | \"info\";\nexport type NotificationHandler = (\n  message: string,\n  details: DetailsType,\n  type: NotificationType,\n  severity: NotificationSeverity,\n) => void;\nexport type NotificationMessage = {\n  readonly id?: string;\n  readonly message: string;\n  readonly details: DetailsType;\n  readonly subText?: string;\n  readonly created?: Date;\n  readonly severity: NotificationSeverity;\n};\n\nconst defaultNotificationHandler: NotificationHandler = (\n  message: string,\n  details: DetailsType,\n  type: NotificationType,\n  severity: NotificationSeverity,\n): void => {\n  if (inWebWorker()) {\n    const webWorkerError =\n      \"Web Worker has uninitialized sendNotification function; this means this error message cannot show up in the UI (so we show it here in the console instead).\";\n    if (process.env.NODE_ENV === \"test\") {\n      throw new Error(webWorkerError);\n    } else {\n      const consoleFn =\n        severity === \"error\" ? console.error : severity === \"warn\" ? console.warn : console.info;\n      consoleFn(webWorkerError, message, details, type);\n    }\n    return;\n  } else if (process.env.NODE_ENV === \"test\") {\n    return;\n  }\n  console.error(\"Notification before error display is mounted\", message, details, type);\n};\n\nlet addNotification: NotificationHandler = defaultNotificationHandler;\n\nexport function setNotificationHandler(handler: NotificationHandler): void {\n  if (addNotification !== defaultNotificationHandler) {\n    throw new Error(\"Tried to overwrite existing NotificationHandler\");\n  }\n  addNotification = handler;\n}\n\nexport function unsetNotificationHandler(): void {\n  if (addNotification === defaultNotificationHandler) {\n    throw new Error(\"Tried to unset NotificationHandler but it was already the default\");\n  }\n  addNotification = defaultNotificationHandler;\n}\n\n// Call this to add an notification to the application nav bar error component if mounted.\n// If the component is not mounted, use the console as a fallback.\nexport default function sendNotification(\n  message: string,\n  details: DetailsType,\n  type: NotificationType,\n  severity: NotificationSeverity,\n): void {\n  // We only want to send non-user errors and warnings to Sentry\n  if (type === \"app\") {\n    if (severity === \"warn\" || severity === \"error\") {\n      reportError(new AppError(details, message));\n    }\n  }\n\n  addNotification(message, details, type, severity);\n}\n\nsendNotification.expectCalledDuringTest = (): void => {\n  throw new Error(\"Should be overriden in setupTestFramework.ts\");\n};\n","// This Source Code Form is subject to the terms of the Mozilla Public\n// License, v2.0. If a copy of the MPL was not distributed with this\n// file, You can obtain one at http://mozilla.org/MPL/2.0/\n//\n// This file incorporates work covered by the following copyright and\n// permission notice:\n//\n//   Copyright 2019-2021 Cruise LLC\n//\n//   This source code is licensed under the Apache License, Version 2.0,\n//   found at http://www.apache.org/licenses/LICENSE-2.0\n//   You may not use this file except in compliance with the License.\n\nexport const inWebWorker = (): boolean => {\n  return (\n    typeof global.postMessage !== \"undefined\" &&\n    typeof WorkerGlobalScope !== \"undefined\" &&\n    self instanceof WorkerGlobalScope\n  );\n};\n\n// To debug shared workers, enter 'chrome://inspect/#workers' into the url bar.\nexport const inSharedWorker = (): boolean =>\n  typeof SharedWorkerGlobalScope !== \"undefined\" && self instanceof SharedWorkerGlobalScope;\n\nexport const enforceFetchIsBlocked = <R, Args extends readonly unknown[]>(\n  fn: (...args: Args) => R,\n): ((...args: Args) => Promise<R>) => {\n  const canFetch =\n    typeof fetch !== \"undefined\" &&\n    fetch(\"data:test\")\n      .then(() => true)\n      .catch(() => false);\n  return async (...args) => {\n    if (await canFetch) {\n      throw new Error(\"Content security policy too loose.\");\n    }\n    return fn(...args);\n  };\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [4077], () => (__webpack_require__(61888)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"85e9c07cfc37d60ae027\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t1888: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(4077).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["RESPONSE","ERROR","createLinkedChannels","local","data","_transfer","ev","remote","Rpc","channel","id","topic","resolve","handler","result","transferables","message","err","callback","transfer","reject","info","error","overwriteFetch","originalFetch","url","init","replacementError","setupSendReportNotificationHandler","rpc","details","type","severity","setupWorker","ImageCanvasWorker","canvas","x","y","state","matrix","point","pixel","hit","markerIndex","args","geometry","imageMessage","rawMarkerData","options","render","renderImage","dimensions","calculateZoomScale","bitmap","viewport","zoomMode","imageViewportScale","calculatedHeight","toPaddedHexString","n","length","str","indexToIDColor","index","idColorToIndex","getMarkerOptions","imageTopic","topics","imageMarkerDatatypes","results","cameraNamespace","getCameraNamespace","name","schemaName","getRelatedMarkerTopics","enabledMarkerTopics","availableMarkerTopics","enabledTopic","getCameraInfoTopic","topicName","splitTopic","topicPart","buildMarkerData","markers","transformMarkers","cameraInfo","cameraModel","globalWithHandler","reportError","setReportErrorHandler","fn","AppError","extraInfo","stringifiedExtraInfo","defaultNotificationHandler","addNotification","setNotificationHandler","unsetNotificationHandler","sendNotification","inWebWorker","inSharedWorker","enforceFetchIsBlocked","canFetch","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","__webpack_exports__","deferred","chunkIds","priority","i","notFulfilled","fulfilled","j","key","r","exports","definition","chunkId","promises","obj","prop","scriptUrl","document","scripts","installedChunks","installChunk","moreModules","runtime","parentChunkLoadingFunction","chunkLoadingGlobal","next"],"sourceRoot":""}